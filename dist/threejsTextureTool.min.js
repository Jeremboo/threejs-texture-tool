(function e(t,n){if(typeof exports==="object"&&typeof module==="object")module.exports=n();else if(typeof define==="function"&&define.amd)define("threejsTextureTool",[],n);else if(typeof exports==="object")exports["threejsTextureTool"]=n();else t["threejsTextureTool"]=n()})(this,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:false};e[r].call(o.exports,o,o.exports,n);o.loaded=true;return o.exports}n.m=e;n.c=t;n.p="";return n(0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();var o=n(1);var i=u(o);var a=n(2);var s=u(a);n(3);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var f=function(){function e(t){l(this,e);if(!t){console.log("Err: Three.js must be passed in parameter");return}this.THREE=t;this.textureNameArr=[];this.textureToolWrapper=document.createElement("ul");this.textureToolWrapper.id="texture-tool-wrapper";this.textureToolWrapper.className="ThreejsTextureTool-wrapper";document.body.appendChild(this.textureToolWrapper);document.body.addEventListener("keydown",function(e){console.log(e)})}r(e,[{key:"addInDom",value:function e(t,n){var r='\n      <li class="TextureTool">\n        <button id="'+t+'-open" class="TextureTool-button">'+t+'</button>\n        <div id="'+t+'-window" class="TextureTool-window TextureTool-hidden">\n          <button id="'+t+'-close" class="TextureTool-close"></button>\n        </div>\n      </li>\n    ';this.textureToolWrapper.insertAdjacentHTML("beforeend",r);var o=document.getElementById(t+"-window");var i=document.getElementById(t+"-open");i.addEventListener("click",function(){i.classList.add("TextureTool-hidden");o.classList.remove("TextureTool-hidden")});var a=document.getElementById(t+"-close");a.addEventListener("click",function(){i.classList.remove("TextureTool-hidden");o.classList.add("TextureTool-hidden")});o.appendChild(n);this.textureNameArr.push(t)}},{key:"createImageTexture",value:function e(t){var n=this;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"image-"+this.textureNameArr.length;if(this.textureNameArr.indexOf(r)!==-1){console.log("Err: Cannot have the same name",r);return}var o=new s.default(this.THREE,t,function(e){n.addInDom(r,e)});return o}},{key:"createCanvasTexture",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"canvas-"+this.textureNameArr.length;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:256;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:256;if(this.textureNameArr.indexOf(t)!==-1){console.log("Err: Cannot have the same name",t);return}var o=new i.default(this.THREE,n,r);this.addInDom(t,o.canvas);return o}}]);return e}();t.default=f},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();function r(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var o=function(){function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:256;var o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:256;r(this,e);this.state={width:n,height:o};this.canvas=null;this.context=null;this.texture=null;this.material=null;this.update=function(e){return e};this.canvas=document.createElement("canvas");this.canvas.width=n;this.canvas.height=o;this.context=this.canvas.getContext("2d");this.texture=new t.Texture(this.canvas);this.texture.needsUpdate=true;this.material=new t.MeshBasicMaterial({map:this.texture,overdraw:true})}n(e,[{key:"drawCustomCanvas",value:function e(t,n){var r=this;this.update=function(){n(r.context,Object.assign({},r.state,t));r.texture.needsUpdate=true}}}]);return e}();t.default=o},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var r=function e(t,r,o){var i=this;n(this,e);this.texture=null;this.image=null;this.material=new t.MeshBasicMaterial({overdraw:true});this.textureLoader=(new t.TextureLoader).load(r,function(e){i.texture=e;i.image=e.image;i.material.needsUpdate=true;i.material.map=i.texture;o(i.image)},function(e){console.log(e.loaded/e.total*100+"% loaded")},function(e){console.log("An error happened",e)})};t.default=r},function(e,t,n){var r=n(4);if(typeof r==="string")r=[[e.id,r,""]];var o=n(6)(r,{});if(r.locals)e.exports=r.locals;if(false){if(!r.locals){e.hot.accept("!!./../node_modules/css-loader/index.js!./../node_modules/stylus-loader/index.js!./style.styl",function(){var t=require("!!./../node_modules/css-loader/index.js!./../node_modules/stylus-loader/index.js!./style.styl");if(typeof t==="string")t=[[e.id,t,""]];o(t)})}e.hot.dispose(function(){o()})}},function(e,t,n){t=e.exports=n(5)();t.push([e.id,".ThreejsTextureTool{list-style:none;margin:0;padding:0;font-family:Century Gothic,CenturyGothic,AppleGothic,sans-serif}.ThreejsTextureTool-wrapper{position:fixed;top:5vw;right:0;max-height:90vh;overflow-x:visible;overflow-y:auto;padding:8px}.TextureTool{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;margin-top:8px}.TextureTool-hidden{display:none}.TextureTool-canvas{position:absolute}.TextureTool-window{position:relative;pointer-events:auto}.TextureTool-button,.TextureTool-close{white-space:nowrap;text-overflow:ellipsis;border:none;font:inherit;line-height:normal;outline:none}.TextureTool-button{max-width:150px;padding:6px 16px;border-radius:2px;background-color:#084c61;color:#fff;overflow:hidden;font-size:.8em;-webkit-transition:.2s;transition:.2s;cursor:pointer;-webkit-transform:translateX(0);transform:translateX(0)}.TextureTool-button:hover{max-width:999px;background-color:#000;-webkit-transform:translateX(-8px);transform:translateX(-8px);padding:6px 32px}.TextureTool-close{position:absolute;width:20px;height:20px;top:5px;right:5px;background-color:#084c61;color:#fff;border-radius:2px;-webkit-transition:.4s;transition:.4s}.TextureTool-close:after{content:'x';position:absolute;top:46%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.TextureTool-close:hover{width:22px;height:22px;top:4px;right:4px;cursor:pointer;padding:4px 8px;background-color:#000}",""])},function(e,t){e.exports=function(){var e=[];e.toString=function e(){var t=[];for(var n=0;n<this.length;n++){var r=this[n];if(r[2]){t.push("@media "+r[2]+"{"+r[1]+"}")}else{t.push(r[1])}}return t.join("")};e.i=function(t,n){if(typeof t==="string")t=[[null,t,""]];var r={};for(var o=0;o<this.length;o++){var i=this[o][0];if(typeof i==="number")r[i]=true}for(o=0;o<t.length;o++){var a=t[o];if(typeof a[0]!=="number"||!r[a[0]]){if(n&&!a[2]){a[2]=n}else if(n){a[2]="("+a[2]+") and ("+n+")"}e.push(a)}}};return e}},function(e,t,n){var r={},o=function(e){var t;return function(){if(typeof t==="undefined")t=e.apply(this,arguments);return t}},i=o(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),a=o(function(){return document.head||document.getElementsByTagName("head")[0]}),s=null,u=0,l=[];e.exports=function(e,t){if(false){if(typeof document!=="object")throw new Error("The style-loader cannot be used in a non-browser environment")}t=t||{};if(typeof t.singleton==="undefined")t.singleton=i();if(typeof t.insertAt==="undefined")t.insertAt="bottom";var n=d(e);f(n,t);return function e(o){var i=[];for(var a=0;a<n.length;a++){var s=n[a];var u=r[s.id];u.refs--;i.push(u)}if(o){var l=d(o);f(l,t)}for(var a=0;a<i.length;a++){var u=i[a];if(u.refs===0){for(var c=0;c<u.parts.length;c++)u.parts[c]();delete r[u.id]}}}};function f(e,t){for(var n=0;n<e.length;n++){var o=e[n];var i=r[o.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++){i.parts[a](o.parts[a])}for(;a<o.parts.length;a++){i.parts.push(x(o.parts[a],t))}}else{var s=[];for(var a=0;a<o.parts.length;a++){s.push(x(o.parts[a],t))}r[o.id]={id:o.id,refs:1,parts:s}}}}function d(e){var t=[];var n={};for(var r=0;r<e.length;r++){var o=e[r];var i=o[0];var a=o[1];var s=o[2];var u=o[3];var l={css:a,media:s,sourceMap:u};if(!n[i])t.push(n[i]={id:i,parts:[l]});else n[i].parts.push(l)}return t}function c(e,t){var n=a();var r=l[l.length-1];if(e.insertAt==="top"){if(!r){n.insertBefore(t,n.firstChild)}else if(r.nextSibling){n.insertBefore(t,r.nextSibling)}else{n.appendChild(t)}l.push(t)}else if(e.insertAt==="bottom"){n.appendChild(t)}else{throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.")}}function p(e){e.parentNode.removeChild(e);var t=l.indexOf(e);if(t>=0){l.splice(t,1)}}function h(e){var t=document.createElement("style");t.type="text/css";c(e,t);return t}function v(e){var t=document.createElement("link");t.rel="stylesheet";c(e,t);return t}function x(e,t){var n,r,o;if(t.singleton){var i=u++;n=s||(s=h(t));r=T.bind(null,n,i,false);o=T.bind(null,n,i,true)}else if(e.sourceMap&&typeof URL==="function"&&typeof URL.createObjectURL==="function"&&typeof URL.revokeObjectURL==="function"&&typeof Blob==="function"&&typeof btoa==="function"){n=v(t);r=g.bind(null,n);o=function(){p(n);if(n.href)URL.revokeObjectURL(n.href)}}else{n=h(t);r=b.bind(null,n);o=function(){p(n)}}r(e);return function t(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;r(e=n)}else{o()}}}var m=function(){var e=[];return function(t,n){e[t]=n;return e.filter(Boolean).join("\n")}}();function T(e,t,n,r){var o=n?"":r.css;if(e.styleSheet){e.styleSheet.cssText=m(t,o)}else{var i=document.createTextNode(o);var a=e.childNodes;if(a[t])e.removeChild(a[t]);if(a.length){e.insertBefore(i,a[t])}else{e.appendChild(i)}}}function b(e,t){var n=t.css;var r=t.media;if(r){e.setAttribute("media",r)}if(e.styleSheet){e.styleSheet.cssText=n}else{while(e.firstChild){e.removeChild(e.firstChild)}e.appendChild(document.createTextNode(n))}}function g(e,t){var n=t.css;var r=t.sourceMap;if(r){n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"}var o=new Blob([n],{type:"text/css"});var i=e.href;e.href=URL.createObjectURL(o);if(i)URL.revokeObjectURL(i)}}])});